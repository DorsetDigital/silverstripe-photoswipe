if(window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName){window.addEventListener("load",function(){var c=document.getElementsByClassName("progressive replace"),e;window.addEventListener("scroll",a,false);window.addEventListener("resize",a,false);d();function a(f){e=e||setTimeout(function(){e=null;requestAnimationFrame(d)},300)}function d(){var k=window.pageYOffset,h=k+window.innerHeight,g,i,f,j=0;while(j<c.length){g=c[j].getBoundingClientRect();i=k+g.top;f=i+g.height;if(k<f&&h>i){b(c[j]);c[j].classList.remove("replace")}else{j++}}}function b(h){if(!h||!h.href){return}var f=new Image();f.src=h.dataset.thumb;f.className="reveal img-fluid img-thumbnail";if(f.complete){g()}else{f.onload=g}function g(){h.appendChild(f).addEventListener("animationend",function(j){var i=h.querySelector&&h.querySelector("img.preview");if(i){j.target.alt=i.alt||"";h.removeChild(i);j.target.classList.remove("reveal")}})}}},false)}jQuery(document).ready(function(a){(function(c){var b=c(".pswp")[0];var d=[];c(".picture").each(function(){var f=c(this),g=function(){var h=[];f.find("a").each(function(){var m=c(this).attr("href"),i=c(this).data("size").split("x"),j=i[0],k=i[1];var l={src:m,w:j,h:k,title:c(this).data("caption")};h.push(l)});return h};var e=g();f.on("click","figure",function(k){k.preventDefault();var h=c(this).index();var i={index:h,bgOpacity:0.9,showHideOpacity:true};var j=new PhotoSwipe(b,PhotoSwipeUI_Default,e,i);j.init()})})})(jQuery)});